import{r as l,u as g,b as w,c as V,a,w as c,d as m,e as y,t as x,f as b,g as _,F as k,h as S,o as p,i as B,j as N}from"./index-DceZlvFz.js";import{_ as f,a as L}from"./ButtonComponent-DXip0urD.js";const M={class:"text-red-700"},E={__name:"LoginView",setup($){const s=l(""),o=l(""),t=l(!1),i=g(),n=l(null),d=S();w(async()=>{i.token&&d.push({name:"home"})});const v=async()=>{n.value=null,t.value=!0;try{await i.login(s.value,o.value),d.push({name:"home"})}catch(r){n.value=r.message,console.error(r)}finally{t.value=!1}};return(r,e)=>(p(),V(k,null,[a("div",null,[e[5]||(e[5]=a("h1",null,"Login",-1)),a("form",{onSubmit:c(v,["prevent"]),class:"max-w-[400px] flex flex-col gap-2 my-4"},[a("div",null,[e[2]||(e[2]=a("label",{for:"email"},"Email",-1)),m(f,{type:"email",name:"email",modelValue:s.value,"onUpdate:modelValue":e[0]||(e[0]=u=>s.value=u)},null,8,["modelValue"])]),a("div",null,[e[3]||(e[3]=a("label",{for:"password"},"Password",-1)),m(f,{type:"password",name:"password",modelValue:o.value,"onUpdate:modelValue":e[1]||(e[1]=u=>o.value=u)},null,8,["modelValue"])]),a("div",null,[m(L,{type:"submit"},{default:y(()=>e[4]||(e[4]=[B("Login")])),_:1})]),a("div",M,x(n.value),1)],32)]),t.value?(p(),b(N,{key:0})):_("",!0)],64))}};export{E as default};
