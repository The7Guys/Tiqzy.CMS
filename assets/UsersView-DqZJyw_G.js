import{u as b,a as U,b as g,_ as D}from"./UserDetails-CRouccTr.js";import{T as N,a as B}from"./TableComponent-Y_T7t8Hu.js";import{a as p}from"./ButtonComponent-deTuvRAx.js";import{o as v,f as y,e as n,a as t,t as d,d as o,i as c,r as C,b as V,c as x,n as $,g as T,F as S,k as E,l as F}from"./index-BWaTWCz4.js";const L={class:"gap-2 flex py-1"},h={__name:"UserEntryTableRow",props:{user:Object},emits:["openDetails"],setup(r,{emit:m}){const u=g(),a=b(),l=U(),k=m,f=r,e=()=>{u.warning({title:"Are you sure?",text:"You won't be able to revert this!",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(async w=>{if(w.isConfirmed){l.show();try{await a.deleteUser(f.user.id),await a.fetchUsers()}catch(i){console.error(i)}finally{l.hide()}}})},s=()=>{k("openDetails",f.user)};return(w,i)=>(v(),y(N,null,{default:n(()=>[t("td",null,d(r.user.id),1),t("td",null,d(r.user.email),1),t("td",null,d(r.user.firstName),1),t("td",null,d(r.user.lastName),1),t("div",L,[o(p,{onClick:s},{default:n(()=>i[0]||(i[0]=[c("Details")])),_:1}),o(p,{onClick:e,kind:"danger"},{default:n(()=>i[1]||(i[1]=[c("Delete")])),_:1})])]),_:1}))}},A={class:"flex full-width"},M={class:"my-4 gap-x-2 flex items-center"},O={key:0,class:"basis-2/5 px-4"},z={__name:"UsersView",setup(r){const m=b(),u=C(0),a=C(10),l=C(null);V(()=>{m.fetchUsers()});const k=f=>{u.value+=f,m.fetchUsers(u.value,a.value)};return(f,e)=>(v(),x("div",null,[e[9]||(e[9]=t("h1",null,"Users",-1)),t("div",A,[t("div",{class:$({"basis-3/5":l.value,"w-full":!l.value})},[o(B,null,{"table-header":n(()=>e[5]||(e[5]=[t("th",null,"ID",-1),t("th",null,"Email",-1),t("th",null,"First Name",-1),t("th",null,"Last Name",-1),t("th",null,"Actions",-1)])),default:n(()=>[(v(!0),x(S,null,E(F(m).users,s=>(v(),y(h,{key:s.id,user:s,onOpenDetails:e[0]||(e[0]=w=>l.value=w)},null,8,["user"]))),128))]),_:1}),t("div",M,[o(p,{onClick:e[1]||(e[1]=s=>k(-a.value))},{default:n(()=>e[6]||(e[6]=[c("Previous")])),_:1}),t("span",null,d(u.value+1)+" - "+d(u.value+a.value),1),o(p,{onClick:e[2]||(e[2]=s=>k(a.value))},{default:n(()=>e[7]||(e[7]=[c("Next")])),_:1})])],2),l.value?(v(),x("div",O,[o(p,{onClick:e[3]||(e[3]=s=>l.value=null)},{default:n(()=>e[8]||(e[8]=[c("Close")])),_:1}),o(D,{modelValue:l.value,"onUpdate:modelValue":e[4]||(e[4]=s=>l.value=s)},null,8,["modelValue"])])):T("",!0)])]))}};export{z as default};
