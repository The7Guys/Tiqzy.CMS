import{T as C}from"./TabComponent-Wa1QOOeB.js";import{_ as y,m as x,o as n,c as i,a as t,t as a,g as p,p as g,v as b,d as k,e as c,i as _,F as D,k as w,q as m,f as T,u as E}from"./index-BWaTWCz4.js";import{a as I,T as v}from"./TableComponent-Y_T7t8Hu.js";const S={components:{TableComponent:I,TableRow:v},data(){return{data:[],sortConfig:{key:"",ascending:!0},filters:{email:""},errorMessage:null}},computed:{filteredAndSortedData(){let l=[...this.data];return this.filters.email&&(l=l.filter(e=>e.Email.toLowerCase().includes(this.filters.email.toLowerCase()))),this.sortConfig.key&&l.sort((e,u)=>{const h=this.sortConfig.key,s=e[h],o=u[h];return s<o?this.sortConfig.ascending?-1:1:s>o?this.sortConfig.ascending?1:-1:0}),l},sortArrow(){return this.sortConfig.ascending?"▲":"▼"}},methods:{sort(l){this.sortConfig.key===l?this.sortConfig.ascending=!this.sortConfig.ascending:(this.sortConfig.key=l,this.sortConfig.ascending=!0)},async fetchData(){try{const l=await x.get("http://api.tiqzyapi.nl/wishlists");this.data=l.data,this.errorMessage=null}catch(l){console.error("Failed to fetch wishlists:",l),this.errorMessage="An error occurred while fetching wishlists."}}},mounted(){this.fetchData()}},M={class:"mb-4 flex items-center space-x-4"},W={key:0,class:"text-red-500"},R={class:"mb-4"},U={key:0},A={key:0},G={key:0},q={key:0},V={key:0},F={key:0};function $(l,e,u,h,s,o){const d=m("TableRow"),f=m("TableComponent");return n(),i("div",null,[t("div",M,[t("button",{onClick:e[0]||(e[0]=(...r)=>o.fetchData&&o.fetchData(...r)),class:"p-2 bg-blue-500 text-white rounded hover:bg-blue-600"}," Fetch "),s.errorMessage?(n(),i("div",W,a(s.errorMessage),1)):p("",!0)]),t("div",R,[e[8]||(e[8]=t("label",{for:"emailFilter",class:"block text-sm font-medium text-gray-700"}," Filter by Email: ",-1)),g(t("input",{type:"text",id:"emailFilter","onUpdate:modelValue":e[1]||(e[1]=r=>s.filters.email=r),placeholder:"Enter email",class:"mt-1 p-2 border border-gray-300 rounded w-full"},null,512),[[b,s.filters.email]])]),k(f,null,{"table-header":c(()=>[t("th",{onClick:e[2]||(e[2]=r=>o.sort("PartitionKey")),class:"cursor-pointer"},[e[9]||(e[9]=_(" GUID ")),s.sortConfig.key==="PartitionKey"?(n(),i("span",U,a(o.sortArrow),1)):p("",!0)]),t("th",{onClick:e[3]||(e[3]=r=>o.sort("RowKey")),class:"cursor-pointer"},[e[10]||(e[10]=_(" Product ID ")),s.sortConfig.key==="RowKey"?(n(),i("span",A,a(o.sortArrow),1)):p("",!0)]),t("th",{onClick:e[4]||(e[4]=r=>o.sort("Timestamp")),class:"cursor-pointer"},[e[11]||(e[11]=_(" Timestamp ")),s.sortConfig.key==="Timestamp"?(n(),i("span",G,a(o.sortArrow),1)):p("",!0)]),t("th",{onClick:e[5]||(e[5]=r=>o.sort("Email")),class:"cursor-pointer"},[e[12]||(e[12]=_(" Email ")),s.sortConfig.key==="Email"?(n(),i("span",q,a(o.sortArrow),1)):p("",!0)]),t("th",{onClick:e[6]||(e[6]=r=>o.sort("IsShared")),class:"cursor-pointer"},[e[13]||(e[13]=_(" Is Shared ")),s.sortConfig.key==="IsShared"?(n(),i("span",V,a(o.sortArrow),1)):p("",!0)]),t("th",{onClick:e[7]||(e[7]=r=>o.sort("ShareToken")),class:"cursor-pointer"},[e[14]||(e[14]=_(" Share Token ")),s.sortConfig.key==="ShareToken"?(n(),i("span",F,a(o.sortArrow),1)):p("",!0)])]),default:c(()=>[(n(!0),i(D,null,w(o.filteredAndSortedData,r=>(n(),T(d,{key:r.ID},{default:c(()=>[t("td",null,a(r.ID),1),t("td",null,a(r.ProductID),1),t("td",null,a(r.Timestamp),1),t("td",null,a(r.Email),1),t("td",null,a(r.IsShared),1),t("td",null,a(r.ShareToken),1)]),_:2},1024))),128))]),_:1})])}const P=y(S,[["render",$],["__scopeId","data-v-b945849a"]]),Q={components:{TableComponent:I,TableRow:v},data(){return{guid:"",item:null,noResults:!1}},methods:{async fetchData(){const l="http://api.tiqzyapi.nl/wishlists/",u=E().token;try{const h=await x.get(`${l}${this.guid}`,{headers:{Authorization:`Bearer ${u}`}});this.item=h.data,this.noResults=!1}catch(h){h.response&&h.response.status===404?(this.noResults=!0,this.item=null):console.error("Error fetching data:",h)}}}},z={class:"mb-4"},L={class:"flex space-x-2"},N={key:0,class:"mt-4"},K={key:1,class:"mt-4 text-red-500"};function B(l,e,u,h,s,o){const d=m("TableRow"),f=m("TableComponent");return n(),i("div",null,[t("div",z,[e[2]||(e[2]=t("label",{for:"guid",class:"block text-sm font-medium text-gray-700 mb-2"}," Enter GUID: ",-1)),t("div",L,[g(t("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>s.guid=r),id:"guid",type:"text",placeholder:"Enter GUID",class:"flex-1 p-2 border border-gray-300 rounded"},null,512),[[b,s.guid]]),t("button",{onClick:e[1]||(e[1]=(...r)=>o.fetchData&&o.fetchData(...r)),class:"p-2 bg-blue-500 text-white rounded hover:bg-blue-600"}," Find ")])]),s.item?(n(),i("div",N,[k(f,null,{"table-header":c(()=>e[3]||(e[3]=[t("th",null,"GUID",-1),t("th",null,"Product ID",-1),t("th",null,"Timestamp",-1),t("th",null,"Email",-1)])),default:c(()=>[k(d,null,{default:c(()=>[t("td",null,a(s.item.PartitionKey),1),t("td",null,a(s.item.RowKey),1),t("td",null,a(s.item.Timestamp),1),t("td",null,a(s.item.email),1)]),_:1})]),_:1})])):s.noResults?(n(),i("div",K," No item found for the provided GUID. ")):p("",!0)])}const j=y(Q,[["render",B],["__scopeId","data-v-22191863"]]),H={components:{TableComponent:I,TableRow:v},data(){return{email:"",responseData:null,errorMessage:null}},methods:{async createWishlist(){if(!this.email){this.errorMessage="Please enter a valid email.",this.responseData=null;return}const l="http://api.tiqzyapi.nl/wishlists";try{const e=await x.post(l,{email:this.email});this.responseData={ID:e.data.ID,Email:e.data.Email,IsShared:e.data.IsShared},this.errorMessage=null}catch(e){console.error("Error creating wishlist:",e),e.response?this.errorMessage=e.response.data.message||"Failed to create wishlist.":this.errorMessage="An unexpected error occurred.",this.responseData=null}}}},J={class:"mb-4"},O={class:"flex space-x-2"},X={key:0,class:"mt-4"},Y={key:1,class:"mt-4 text-red-500"};function Z(l,e,u,h,s,o){const d=m("TableRow"),f=m("TableComponent");return n(),i("div",null,[t("div",J,[e[2]||(e[2]=t("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-2"}," Enter Email: ",-1)),t("div",O,[g(t("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>s.email=r),id:"email",type:"email",placeholder:"Enter email",class:"flex-1 p-2 border border-gray-300 rounded"},null,512),[[b,s.email]]),t("button",{onClick:e[1]||(e[1]=(...r)=>o.createWishlist&&o.createWishlist(...r)),class:"p-2 bg-green-500 text-white rounded hover:bg-green-600"}," Create ")])]),s.responseData?(n(),i("div",X,[k(f,null,{"table-header":c(()=>e[3]||(e[3]=[t("th",null,"Wishlist ID",-1),t("th",null,"Email",-1),t("th",null,"Is Shared",-1)])),default:c(()=>[k(d,null,{default:c(()=>[t("td",null,a(s.responseData.ID),1),t("td",null,a(s.responseData.Email),1),t("td",null,a(s.responseData.IsShared),1)]),_:1})]),_:1})])):s.errorMessage?(n(),i("div",Y,a(s.errorMessage),1)):p("",!0)])}const ee=y(H,[["render",Z],["__scopeId","data-v-7334514c"]]),te={components:{TableComponent:I,TableRow:v},data(){return{guid:"",items:[],noResults:!1}},methods:{async fetchItems(){const l="http://api.tiqzyapi.nl/wishlists";if(!this.guid){this.noResults=!0,this.items=[];return}try{const e=await x.get(`${l}/${this.guid}/items`);this.items=e.data.map(u=>({ID:u.ID,EventID:u.EventID,Quantity:u.Quantity})),this.noResults=this.items.length===0}catch(e){console.error("Error fetching items:",e),e.response&&e.response.status===404?(this.noResults=!0,this.items=[]):(this.noResults=!0,this.items=[],alert("An error occurred while fetching items."))}}}},se={class:"mb-4"},re={class:"flex space-x-2"},oe={key:0,class:"mt-4"},ne={key:1,class:"mt-4 text-red-500"};function le(l,e,u,h,s,o){const d=m("TableRow"),f=m("TableComponent");return n(),i("div",null,[t("div",se,[e[2]||(e[2]=t("label",{for:"guid",class:"block text-sm font-medium text-gray-700 mb-2"}," Enter Wishlist GUID: ",-1)),t("div",re,[g(t("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>s.guid=r),id:"guid",type:"text",placeholder:"Enter GUID",class:"flex-1 p-2 border border-gray-300 rounded"},null,512),[[b,s.guid]]),t("button",{onClick:e[1]||(e[1]=(...r)=>o.fetchItems&&o.fetchItems(...r)),class:"p-2 bg-blue-500 text-white rounded hover:bg-blue-600"}," Fetch Items ")])]),s.items.length?(n(),i("div",oe,[k(f,null,{"table-header":c(()=>e[3]||(e[3]=[t("th",null,"Event ID",-1),t("th",null,"Quantity",-1)])),default:c(()=>[(n(!0),i(D,null,w(s.items,r=>(n(),T(d,{key:r.ID},{default:c(()=>[t("td",null,a(r.EventID),1),t("td",null,a(r.Quantity),1)]),_:2},1024))),128))]),_:1})])):s.noResults?(n(),i("div",ne," No items found for the provided GUID. ")):p("",!0)])}const ie=y(te,[["render",le],["__scopeId","data-v-6c4869ab"]]),ae={data(){return{guid:"",productId:"",quantity:"",responseData:null,errorMessage:null}},methods:{async addItem(){if(!this.guid||!this.productId||!this.quantity){this.errorMessage="All fields are required.",this.responseData=null;return}if(this.quantity<=0){this.errorMessage="Quantity must be greater than zero.",this.responseData=null;return}const l="http://api.tiqzyapi.nl/wishlists";try{await x.post(`${l}/${this.guid}/items`,{eventID:this.productId,quantity:parseInt(this.quantity,10)}),this.responseData=`Item with Product ID '${this.productId}' and Quantity '${this.quantity}' successfully added to Wishlist '${this.guid}'.`,this.errorMessage=null,this.guid="",this.productId="",this.quantity=""}catch(e){console.error("Error adding item:",e),e.response?this.errorMessage=e.response.data.message||"Failed to add item.":this.errorMessage="An unexpected error occurred.",this.responseData=null}}}},de={class:"mb-4"},ue={key:0,class:"mt-4 text-green-500"},he={key:1,class:"mt-4 text-red-500"};function ce(l,e,u,h,s,o){return n(),i("div",null,[t("div",de,[e[4]||(e[4]=t("label",{for:"guid",class:"block text-sm font-medium text-gray-700 mb-2"}," Enter Wishlist GUID: ",-1)),g(t("input",{"onUpdate:modelValue":e[0]||(e[0]=d=>s.guid=d),id:"guid",type:"text",placeholder:"Enter GUID",class:"p-2 border border-gray-300 rounded w-full mb-2"},null,512),[[b,s.guid]]),e[5]||(e[5]=t("label",{for:"productId",class:"block text-sm font-medium text-gray-700 mb-2"}," Enter Product ID: ",-1)),g(t("input",{"onUpdate:modelValue":e[1]||(e[1]=d=>s.productId=d),id:"productId",type:"text",placeholder:"Enter Product ID",class:"p-2 border border-gray-300 rounded w-full mb-2"},null,512),[[b,s.productId]]),e[6]||(e[6]=t("label",{for:"quantity",class:"block text-sm font-medium text-gray-700 mb-2"}," Enter Quantity: ",-1)),g(t("input",{"onUpdate:modelValue":e[2]||(e[2]=d=>s.quantity=d),id:"quantity",type:"number",placeholder:"Enter Quantity",class:"p-2 border border-gray-300 rounded w-full mb-2"},null,512),[[b,s.quantity]]),t("button",{onClick:e[3]||(e[3]=(...d)=>o.addItem&&o.addItem(...d)),class:"p-2 bg-blue-500 text-white rounded hover:bg-blue-600 mt-2"}," Add Item ")]),s.responseData?(n(),i("div",ue,a(s.responseData),1)):s.errorMessage?(n(),i("div",he,a(s.errorMessage),1)):p("",!0)])}const pe=y(ae,[["render",ce],["__scopeId","data-v-a936cb54"]]),me={components:{TableComponent:I,TableRow:v},data(){return{shareToken:"",sharedWishlist:[],noResults:!1}},methods:{async fetchSharedWishlist(){const l="http://api.tiqzyapi.nl/wishlists/shared";if(!this.shareToken){this.noResults=!0,this.sharedWishlist=[];return}try{const e=await x.get(`${l}/${this.shareToken}`);this.sharedWishlist=e.data.map(u=>({ID:u.ID,EventID:u.EventID,Quantity:u.Quantity})),this.noResults=this.sharedWishlist.length===0}catch(e){console.error("Error fetching shared wishlist:",e),e.response&&e.response.status===404?(this.noResults=!0,this.sharedWishlist=[]):(this.noResults=!0,this.sharedWishlist=[],alert("An unexpected error occurred."))}}}},ge={class:"mb-4"},be={class:"flex space-x-2"},fe={key:0,class:"mt-4"},ye={key:1,class:"mt-4 text-red-500"};function ke(l,e,u,h,s,o){const d=m("TableRow"),f=m("TableComponent");return n(),i("div",null,[t("div",ge,[e[2]||(e[2]=t("label",{for:"shareToken",class:"block text-sm font-medium text-gray-700 mb-2"}," Enter Share Token: ",-1)),t("div",be,[g(t("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>s.shareToken=r),id:"shareToken",type:"text",placeholder:"Enter Share Token",class:"flex-1 p-2 border border-gray-300 rounded"},null,512),[[b,s.shareToken]]),t("button",{onClick:e[1]||(e[1]=(...r)=>o.fetchSharedWishlist&&o.fetchSharedWishlist(...r)),class:"p-2 bg-blue-500 text-white rounded hover:bg-blue-600"}," Fetch Shared ")])]),s.sharedWishlist.length?(n(),i("div",fe,[k(f,null,{"table-header":c(()=>e[3]||(e[3]=[t("th",null,"Event ID",-1),t("th",null,"Quantity",-1)])),default:c(()=>[(n(!0),i(D,null,w(s.sharedWishlist,r=>(n(),T(d,{key:r.ID},{default:c(()=>[t("td",null,a(r.EventID),1),t("td",null,a(r.Quantity),1)]),_:2},1024))),128))]),_:1})])):s.noResults?(n(),i("div",ye," No shared wishlist found for the provided Share Token. ")):p("",!0)])}const xe=y(me,[["render",ke],["__scopeId","data-v-58e001bd"]]),_e={data(){return{guid:"",shareToken:null,errorMessage:null}},methods:{async shareWishlist(){if(!this.guid){this.errorMessage="Please enter a valid GUID.",this.shareToken=null;return}const l="http://api.tiqzyapi.nl/wishlists";try{const e=await x.post(`${l}/${this.guid}/share`);this.shareToken=e.data.token,this.errorMessage=null}catch(e){console.error("Error sharing wishlist:",e),e.response?this.errorMessage=e.response.data.message||"Failed to share wishlist.":this.errorMessage="An unexpected error occurred.",this.shareToken=null}}}},Ie={class:"mb-4"},ve={class:"flex space-x-2"},De={key:0,class:"mt-4 text-green-500"},we={key:1,class:"mt-4 text-red-500"};function Te(l,e,u,h,s,o){return n(),i("div",null,[t("div",Ie,[e[2]||(e[2]=t("label",{for:"guid",class:"block text-sm font-medium text-gray-700 mb-2"}," Enter Wishlist GUID: ",-1)),t("div",ve,[g(t("input",{"onUpdate:modelValue":e[0]||(e[0]=d=>s.guid=d),id:"guid",type:"text",placeholder:"Enter GUID",class:"flex-1 p-2 border border-gray-300 rounded"},null,512),[[b,s.guid]]),t("button",{onClick:e[1]||(e[1]=(...d)=>o.shareWishlist&&o.shareWishlist(...d)),class:"p-2 bg-blue-500 text-white rounded hover:bg-blue-600"}," Share Wishlist ")])]),s.shareToken?(n(),i("div",De,[e[3]||(e[3]=_(" Share Token: ")),t("strong",null,a(s.shareToken),1)])):s.errorMessage?(n(),i("div",we,a(s.errorMessage),1)):p("",!0)])}const Ce=y(_e,[["render",Te],["__scopeId","data-v-b0424d1f"]]),Ee={data(){return{guid:"",successMessage:null,errorMessage:null}},methods:{async disableShareWishlist(){if(!this.guid){this.errorMessage="Please enter a valid GUID.",this.successMessage=null;return}const l="http://api.tiqzyapi.nl/wishlists";try{await x.post(`${l}/${this.guid}/disable-share`),this.successMessage=`Sharing for Wishlist with GUID '${this.guid}' has been successfully disabled.`,this.errorMessage=null,this.guid=""}catch(e){console.error("Error disabling share for wishlist:",e),e.response?this.errorMessage=e.response.data.message||"Failed to disable sharing.":this.errorMessage="An unexpected error occurred.",this.successMessage=null}}}},Se={class:"mb-4"},Me={class:"flex space-x-2"},We={key:0,class:"mt-4 text-green-500"},Re={key:1,class:"mt-4 text-red-500"};function Ue(l,e,u,h,s,o){return n(),i("div",null,[t("div",Se,[e[2]||(e[2]=t("label",{for:"guid",class:"block text-sm font-medium text-gray-700 mb-2"}," Enter Wishlist GUID: ",-1)),t("div",Me,[g(t("input",{"onUpdate:modelValue":e[0]||(e[0]=d=>s.guid=d),id:"guid",type:"text",placeholder:"Enter GUID",class:"flex-1 p-2 border border-gray-300 rounded"},null,512),[[b,s.guid]]),t("button",{onClick:e[1]||(e[1]=(...d)=>o.disableShareWishlist&&o.disableShareWishlist(...d)),class:"p-2 bg-red-500 text-white rounded hover:bg-red-600"}," Disable Share ")])]),s.successMessage?(n(),i("div",We,a(s.successMessage),1)):s.errorMessage?(n(),i("div",Re,a(s.errorMessage),1)):p("",!0)])}const Ae=y(Ee,[["render",Ue],["__scopeId","data-v-851be8fc"]]),Ge={components:{TabComponent:C},data(){return{tabs:[{key:"getAll",label:"Get All"},{key:"getSingle",label:"Get Single"},{key:"createWishlist",label:"Create Wishlist"},{key:"getItems",label:"Get Items"},{key:"addItem",label:"Add Item"},{key:"getShared",label:"Get Shared"},{key:"shareWishlist",label:"Share Wishlist"},{key:"disablingShare",label:"Disable Wishlist"}],components:{getAll:P,getSingle:j,createWishlist:ee,getItems:ie,addItem:pe,getShared:xe,shareWishlist:Ce,disablingShare:Ae}}}},qe={class:"p-4"};function Ve(l,e,u,h,s,o){const d=m("TabComponent");return n(),i("div",qe,[e[0]||(e[0]=t("h1",{class:"text-2xl font-bold mb-4",style:{"text-align":"left !important"}},"Wishlists",-1)),k(d,{tabs:s.tabs,components:s.components,"default-tab":"getAll"},null,8,["tabs","components"])])}const Qe=y(Ge,[["render",Ve],["__scopeId","data-v-33edf632"]]);export{Qe as default};
